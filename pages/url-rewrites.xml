<rewriter xmlns="http://marklogic.com/xdmp/rewriter" >
  <match-path matches="^/login" scoped="true">
    <dispatch>login.xqy</dispatch>
  </match-path>

  <match-path matches="^/register" scoped="true">
    <dispatch>register.xqy</dispatch>
  </match-path>

  <match-path matches="^/home" scoped="true">
    <dispatch>home.xqy</dispatch>
  </match-path>

  <match-path matches="^/add-feed" scoped="true">
    <dispatch>add-feed.xqy</dispatch>
  </match-path>

  <match-path matches="^/all-feeds" scoped="true">
    <dispatch>all-feeds.xqy</dispatch>
  </match-path>

  <match-path matches="^/add-search" scoped="true">
    <dispatch>add-search.xqy</dispatch>
  </match-path>

  <match-path matches="^/results/(.+)" scoped="true">
    <add-query-param name="search">$1</add-query-param>
    <dispatch>results.xqy</dispatch>
  </match-path>
</rewriter>
